#!/usr/bin/env perl

use utf8;
use strict;
use warnings;
use File::Slurp;
use Try::Tiny;

my @default_db_connect = (
    'dbi:mysql:database=kpw2012',
    'dbusername',
    'dbpassword',
    {
        RaiseError           => 1,
        AutoCommit           => 1,
        mysql_enable_utf8    => 1,
        mysql_auto_reconnect => 1,
        on_connect_do =>
            [ q{SET NAMES 'utf8'}, q{SET CHARACTER SET 'utf8'} ],
    },
);

my @db_connect;
if ( -f 'db.conf' ) {
    @db_connect
        = try { @{ eval read_file('db.conf') } }
        catch { @default_db_connect };
}

+{
    #
    # for Mojolicious hypnotoad server
    #
    hypnotoad => {
        listen  => [ 'http://*:5002' ],
        workers => 6,
    },

    #
    # for DB connect
    #
    connect => \@db_connect,

    #
    # for email
    #
    email => {
        username         => 'kpw2012@perl.kr',
        register_subject => '[KPW2012] Registration Confirmation',
        register_message => <<'END',

%s 님, 등록해주셔서 고맙습니다.

다음 링크로 접속해서 등록 과정을 마무리하시면
"대기자" 명단에 들어가게 됩니다.

<a href="http://event.perl.kr/kpw2012/register/waiting?email=%s&waiting=%s">
http://event.perl.kr/kpw2012/register/waiting?email=%s&waiting=%s
</a>

참가비의 입금 및 확인이 완료되면 "확정" 명단에 들어갑니다.
"확정" 명단에 계신 분들만 입장이 가능하오니 이 점 유의바랍니다.
참가비를 입금할 계좌번호는 다음과 같습니다.

우리은행 461-162011-02-101 김도형

등록 및 환불과 관련한 문의 사항은 언제든지 메일 또는 홈페이지의
연락처를 통해 질문주세요. 행사에 바라는 점은 물론 관련 의견도
언제든지 환영합니다.

고맙습니다. :-)


Seoul Perl Mongers
Keedi Kim

END
    },

    #
    # for site
    #
    secret           => '2012-09-30 21:51:33 Asia/Seoul',
    copyright        => '2012 Seoul.pm',
    project_name     => 'KPW2012',
    project_desc     => 'Korean Perl Workshop 2012',
    google_analytics => 'UA-387065-3',
    meta => {
        author      => 'Keedi Kim',
        keywords    => 'korean, perl, workshop, kpw2012, seoul, mongers, seoul.pm',
        description => 'Korean Perl Workshop 2012',
    },
    header_links => [
        { icon => 'icon-home',     title => 'KPW 2012',     url => '#section-home',     active => 1 },
        { icon => 'icon-edit',     title => 'Register',     url => '#section-register', active => 0 },
        { icon => 'icon-table',    title => 'Schedule',     url => '#section-schedule', active => 0 },
        { icon => 'icon-group',    title => 'Attendees',    url => '#section-attendee', active => 0 },
        { icon => 'icon-envelope', title => 'Contact',      url => '#section-contact',  active => 0 },
    ],
    sponsors => [
        { icon => 'sponsor-google',    title => 'Google Korea', url => 'https://www.google.co.kr/'  },
        { icon => 'sponsor-nemustech', title => 'NemusTech',    url => 'http://www.nemustech.com/'  },
        { icon => 'sponsor-silex',     title => 'SILEX',        url => q{}                          },
        { icon => 'sponsor-jinson',    title => '志&嬋 지앤선', url => 'http://jinson.tistory.com/' },
    ],

    #
    # for schedule
    #
    schedules => [

<<'END',
## Perl 101

[aero][twitter-aer0] - Seoul.pm, #perl-kr의 정신적 지주, Perl에 대한 근원적이면서 깊은 부분까지 놓치지 않고 다루는 [홈페이지 및 블로그][hp-aer0]를 운영하고 있다.

Perl의 과거 현재 미래의 모습과 Perl개발에 필요한 기초교양

[twitter-aer0]: https://twitter.com/aer0
[hp-aer0]:      http://aero.sarang.net
END

<<'END',
## Handler Socket으로 MySQL을 NoSQL처럼 쓰기


[조성재(@jachin24)][twitter-jachin24] -
(주)네무스텍 주임연구원, Lv. 5 월급도둑.
KDE Korean Team Representative, Free Software Worker,
자유소프트웨어, 오픈소스, 상용소프트웨어가 만들어 낸 돌연변이.


최근 하드웨어 비용이 저렴해지면서, 고용량 메모리를 탑재한 서버들이 많아지고 있습니다.
그러한 흐름에 맞춰 고속의 대용량 서비스를 제공할 수 있는 NoSQL 기술이 유행하고 있지만,
전기세나 회선비용이 부담되는 개인에게는 먼나라 이야기로 느껴지기도 합니다.
또한 기존의 MySQL을 사용하고 있는 서비스가 많다면, 함부로 변경할 수도 없는 노릇입니다.
이러한 경우 적절한 기술이 Handler Socket입니다.
C++과 Perl을 기반으로 하는 MySQL Plugin이지만, 현재는 대부분의 언어를 이용해 사용할 수 있습니다.

일본의 게임회사 DeNA에서 개발하여, 2010년 하반기에 많은 사람들에게 알려졌지만,
여전히 Memcached나 Redis를 MySQL과 같이 사용하고 있다는 점은 안타까운 일입니다.
Handler Socket을 이용할 때의 장점은 크게 세 가지가 있습니다.
첫 번째로 Memcached나 Redis와 같이 DB의 내용을 메모리에 중복하여 유지할 필요가 없습니다.
두 번째로 시간당 처리할 수 있는 쿼리의 갯수가 월등합니다.
세 번째로 자연스럽게 적용해서 기존 SQL 기반 서비스와 같이 사용할 수 있습니다.
접근 권한을 설정할 수 없으며, 메모리 상에 데이터를 모두 적재하지 않으면,
즉 데이터베이스 크기가 시스템의 메모리 크기보다 크면 성능이 급감한다는 점은 단점입니다.
그러나 이러한 제약 사항을 알고 기능을 전략적으로 사용한다면,
기존의 시스템으로도 충분한 효과를 얻을 수 있습니다.


[twitter-jachin24]:        https://twitter.com/jachin24
END

<<'END',
## Perl을 위한 Web App 실행 환경 꾸미기

[@yuni_kim][twitter-yuni_kim] -
Yahoo! Inc.의 시스템 오퍼레이터.
GMT -03:00의 YUNI TZ을 가지고 있는 전산 및 조경업계의 이단아.
GSLB와 GIS, Perl을 좋아하며 컴퓨터에게 일을 시키고 구경하는 일을 즐긴다.

하나의 웹앱을 만들고 서비스하기 위해서는 선택해야 하는것들이 무척 많습니다.
소스는 어떻게 관리할 것인가 부터 시작해서, 개발언어, 프레임웍, 라이브러리 등등을 결정해야 하고,
운영단계에서는 아키텍쳐에 따라서 어플리케이션 서버, 웹서버, 캐시서버, 프록시서버 등을 결정해야 합니다.
개발을 어떻게 하느냐에 따라 운영을 어떻게 할 것인가가 바뀌기도 하고,
반대로 운영 방법에 따라 개발 내용이 바뀌기도 합니다.

여러개의 웹앱을 어떻게 효과적으로 운영하느냐에 대해서 고민해봅니다.

- <i class="icon-ok"></i> [nginx][nginx-home]: Front End HTTP Daemon & Proxy
- <i class="icon-ok"></i> [uWSGI][uwsgi-home]: Application server
- <i class="icon-ok"></i> [PSGI][psgi-home], [perlbrew][perlbrew-home]: Perl

[twitter-yuni_kim]:         https://twitter.com/yuni_kim
[nginx-home]:               http://nginx.com/
[perlbrew-home]:            http://perlbrew.pl/
[psgi-home]:                http://plackperl.org/
[uwsgi-home]:               http://projects.unbit.it/uwsgi/
END

<<'END',
## Perl Web App 테스트 전략

[@JEEN_LEE][twitter-jeen_lee] - 월급도둑

> 하나의 웹앱을 만들고 서비스하기 위해서는 선택해야하는 것들이 무척많습니다.

라고 [@yuni_kim][twitter-yuni_kim]님께서 말씀하신 것처럼 어떤 테스트 전략을 취할 것인가 하는 점 역시 중요합니다. 
Perl Web App 에서 사용되는 다양한 테스트 전략과 지속적인 통합전략을 생각해봅니다.

- <i class="icon-ok"></i> Test::* : CPAN 의 은총을 받은 테스트코드 작성방법
- <i class="icon-ok"></i> Jenkins 를 활용한 지속적인 통합
- <i class="icon-ok"></i> Selenium, PhantomJS 를 이용한 프론트엔드 테스트방법

[twitter-jeen_lee]:    https://twitter.com/JEEN_LEE
[twitter-yuni_kim]:    https://twitter.com/yuni_kim
END

<<'END',
## Perl과 함께하는 Semantic Web

[김재철(@ja3ck)][twitter-ja3ck] - Python과 Ruby를 지나 Perl에 정착한 유목민. 

시맨틱 웹이란 무엇이고 그것으로 우리가 할 수 있는 일은 뭐가 있을까요? Perl 언어와 함께라면 쉽고 간단합니다.

CPAN 에 준비된 여러 모듈들을 활용하여 시맨틱 웹과 친숙해지는 시간을 가져보겠습니다.

- <i class="icon-ok"></i> [RDF::Trine][cpan-rdf-trine]
- <i class="icon-ok"></i> [RDF::Query][cpan-rdf-query]

[twitter-ja3ck]:   https://twitter.com/ja3ck
[cpan-rdf-trine]:  http://metacpan.org/module/RDF::Trine
[cpan-rdf-query]:  http://metacpan.org/module/RDF::Trine
END

<<'END',
## p5-hubot

[홍형석(@aanoaa)][twitter-aanoaa] - Perl, 콧수염, 야구, 자전거, 낙타, 돌고래, 포청천 마니아. 아이유 열혈 삼촌팬. Emacs.

GitHub 의 hubot 을 perl 로 porting 한 이야기

[twitter-aanoaa]:    https://twitter.com/aanoaa
END

<<'END',
## 아이폰 개발자가 쓰는 perl

[이민선(@mintegrals)][twitter-mintegrals] - 랩의 귀재, MC.민나이퍼

[twitter-mintegrals]:    https://twitter.com/mintegrals
END

<<'END',
## Just for fun, Perl (펄 대충 사용하기) - 있어보이는 개발자로 거듭나기

[이석철(@liepsof)][twitter-liepsof] - 
Unix 기반 C개발자로 살다가 안드로이드 개발자로 노선 변경. 디바이스 파편화에 지쳐 iOS개발로 2차 전직. 그러나 아이폰5 이후 멘붕. 
현재 CJ헬로비전 tving 테크그룹 근무. 신규서비스 개발중 외주 관리만 할줄 알았으나 안드로이드 아이폰 동시 디버깅하며 2차 멘붕 지속중. 
대충 개발해도 아무도 모르는 방법을 고민중

이것 저것 다 웬만한건 다 해본 개발자.
이것도 해보고 저것도 해보고 필요없는건 다 버리고 나서 현재 남아 있는건
밥 벌이용 랭귀지. 그리고 Perl.
Perl로 재밌는 develop. life를 보내는 방법과 
대충해도 좀 있어보이는 방법을 알아본다.

[twitter-liepsof]:    https://twitter.com/liepsof
END

<<'END',
## 여심을 사로잡자 - Notepad 를 활용한 감성적인 편지 만들기

[이광헌(@perlstudy)][twitter-perlstudy] - 네이버카페 Perl Study 의 운영자/광고리무버

[twitter-perlstudy]:    https://twitter.com/perlstudy
END

<<'END',
## Perl6 이야기

[윤호정(@am0c)][twitter-am0c]

[twitter-am0c]:    https://twitter.com/am0c
END

<<'END',
## 넝쿨째 굴러온 김성모, 그의 만화를 앱으로 서비스하기까지

[박현우(@lqez)][twitter-lqez] - Smart Study CTO, SCV

만화서비스를 결심한 후, 대뜸 연락하고 찾아가 만난 김성모 화백. 
그도 자신의 만화를 모두 가지고 있지 못해, 중고 시장과 만화방을 뒤지며 책을 수집했다. 
수집한 책을 디지털화 하기 위해 작두와 양면 스캐너를 구매하여 복원을 시작하는데...

[twitter-lqez]:    https://twitter.com/lqez
END

<<'END',
## Research on CJKV Input Method System

[성대현(@studioego)][twitter-studioego]

[twitter-studioego]:    https://twitter.com/studioego
END

<<'END',
## Coming Soon...

...
END

<<'END',
## Lightning Talk

- <i class="icon-ok"></i> Look at This! - [@yuni_kim][twitter-yuni_kim]
- <i class="icon-ok"></i> Perl Numbers - [@JEEN_LEE][twitter-jeen_lee]
- <i class="icon-ok"></i> 나의 Perl 투신기 :: 보다 나은 Perl 개미지옥을 위하여 - [@JellyPooo][twitter-jellypooo]
- <i class="icon-ok"></i> 생활속의 Perl - [정경훈(@eeyees)][twitter-eeyees]
- <i class="icon-ok"></i> Midnight of Freesoftware - [조성재(@jachin24)][twitter-jachin24]
- <i class="icon-ok"></i> 반복적인 Excel 작업으로 부터 탈출 - 최재민(skyloader)

[twitter-yuni_kim]:         https://twitter.com/yuni_kim
[twitter-jeen_lee]:         https://twitter.com/JEEN_LEE
[twitter-jellypooo]:        https://twitter.com/JellyPooo
[twitter-eeyees]:           https://twitter.com/eeyees
[twitter-jachin24]:         https://twitter.com/jachin24
END

    ],

    ### for faqs

    faqs => [
<<'END',

### 현장등록은 안되나요?

> 100% 사전등록제로 진행하고 있으니 양해부탁드립니다.

END

<<'END',

### 참가신청을 했는데, Waiting 에 안떠요

> 혹시나 스팸메일에 들어있는 지 확인해주시고, 그래도 없다면 _Contact_
에서 자세한 내용을 알려주세요.

END

<<'END',

### 참가비 1만원이던데, 무엇때문에 이렇게나 받나요?

> 알아보겠습니다.

END

<<'END',

### 장소가 CNN the Biz 강남점인가요?

> 아닙니다. 그 옆에 있는 [CNN the Biz 강남교육연수센터][url-cnn]입니다.
착오없으시도록 주의해주세요.

[url-cnn]:    http://www.cnnthebiz.com/booth/booth01_8.asp

END

<<'END',

### 발표회장에 노트북 전원/WiFi는 사용할 수 있나요?

> 알아보겠습니다.

END

<<'END',

### 참가는 못하겠고, 티셔츠는 갖고 싶어요!!

> _Contact_ 를 통해서 연락해주세요.

END

<<'END',

### 참가신청을 마쳤는 데, 당일날 일이 생겨서 못가겠어요.

> 아쉽군요. 다음 기회에 뵙기를 기원합니다. 참가비는 좋은 곳에 쓰겠습니다.

END

<<'END',

### 아니, 8시까지 하면 저녁은 어떻게 하라는 건가요?

> 5-6시쯤 샌드위치를 배급할 예정입니다. 그걸로나마 허기를 달래주시면 감사하겠습니다.

END

<<'END',

### 뒷풀이는 있나요?

> 공식적인 뒷풀이 행사는 없습니다.

END

<<'END',

    ],
};
